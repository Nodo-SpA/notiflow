(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9656:function(e,a,t){Promise.resolve().then(t.bind(t,9996))},9996:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var s=t(7437),r=t(29),l=t.n(r),n=t(2265),d=t(3260),o=t(9376),i=t(2449),c=t(1469),m=t(7855),f=t(3145),x={src:"/_next/static/media/NotiflowV_02.7b0945b4.png",height:1801,width:2401,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAeElEQVR42mMgCP79+8cIxEz/fn5j+vf/P+O/c9uY/82zV/43XTXk31RxRUwNDAzs/zoZKv91MOz+185gzvDv3z8lIHYH6jb79++fN5COBWKtf9cPhv7bN0WG4d+/f7JAHAzEEUAJj3///vn++/s3Esj2BGI2gm4EAPEaTcWyZ6ApAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6},b=t(4863);function p(){let e=(0,o.useRouter)(),a=(0,i.tN)(e=>e.setUser),[t,r]=(0,n.useState)(!1),[p,u]=(0,n.useState)(""),[h,j]=(0,n.useState)(""),[w,g]=(0,n.useState)(""),[v,y]=(0,n.useState)("credentials"),[N,k]=(0,n.useState)(!1),[z,A]=(0,n.useState)(""),[C,E]=(0,n.useState)(""),[S,I]=(0,n.useState)(0);(0,n.useEffect)(()=>{if(S<=0)return;let e=setInterval(()=>I(e=>Math.max(0,e-1)),1e3);return()=>clearInterval(e)},[S]);let O=async t=>{if(t.preventDefault(),("credentials"!==v||p&&h)&&("otp"!==v||!(w.length<6))){k(!0),A(""),E("");try{if("credentials"===v)await m.x.login(p,h),await m.x.requestOtp(p),y("otp"),E("Te enviamos un c\xf3digo a tu correo. Revisa bandeja y spam."),I(30);else{let{token:t,refreshToken:s,user:r}=(await m.x.verifyOtp(p,w)).data;t&&localStorage.setItem("authToken",t),s&&localStorage.setItem("refreshToken",s),a(r),e.push("/dashboard")}}catch(t){var s,r,l,n,d;let e=null==t?void 0:null===(s=t.response)||void 0===s?void 0:s.status,a=(null==t?void 0:null===(l=t.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.message)||(null==t?void 0:null===(d=t.response)||void 0===d?void 0:null===(n=d.data)||void 0===n?void 0:n.error)||(null==t?void 0:t.message)||"Error al iniciar sesi\xf3n";A(401===e||403===e?"otp"===v?"C\xf3digo incorrecto o expirado":"Correo o contrase\xf1a inv\xe1lidos":"Forbidden"===a?"No tienes acceso a esta aplicaci\xf3n":a)}finally{k(!1)}}};return(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d min-h-screen bg-gradient-to-br from-[#0c1b2a] via-[#0e2439] to-[#132f4f] text-white relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-dee60824f3db036d absolute -left-24 -top-24 w-72 h-72 bg-primary/25 blur-3xl rounded-full"}),(0,s.jsx)("div",{className:"jsx-dee60824f3db036d absolute right-0 bottom-0 w-80 h-80 bg-secondary/25 blur-3xl rounded-full"}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d pointer-events-none absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-dee60824f3db036d absolute -left-16 top-6 w-80 h-80 bg-gradient-to-br from-primary/30 to-secondary/15 blur-3xl rounded-full animate-orbit-slow"}),(0,s.jsx)("div",{className:"jsx-dee60824f3db036d absolute right-[-60px] bottom-[-80px] w-96 h-96 bg-gradient-to-tr from-white/10 to-primary/15 blur-3xl rounded-full animate-orbit-slower"}),(0,s.jsx)("div",{className:"jsx-dee60824f3db036d absolute left-1/3 bottom-[-100px] w-64 h-64 bg-gradient-to-tr from-secondary/20 to-primary/10 blur-3xl rounded-full animate-orbit-fast"})]}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d relative max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6 px-4 py-12 items-center min-h-screen",children:[(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d bg-white/5 border border-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d flex items-center gap-4",children:[(0,s.jsx)("div",{className:"jsx-dee60824f3db036d w-16 h-16 rounded-2xl bg-white/10 border border-white/10 flex items-center justify-center overflow-hidden",children:(0,s.jsx)(f.default,{src:b.Z,alt:"Marca Notiflow",className:"w-full h-full object-contain",priority:!0})}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d",children:[(0,s.jsx)("p",{className:"jsx-dee60824f3db036d text-sm text-white/70",children:"Plataforma escolar"}),(0,s.jsx)("h1",{className:"jsx-dee60824f3db036d text-3xl font-bold",children:"Notiflow"})]})]}),(0,s.jsx)("div",{className:"jsx-dee60824f3db036d rounded-2xl bg-white/5 border border-white/10 p-4",children:(0,s.jsx)(f.default,{src:x,alt:"Notiflow logo principal",className:"w-full h-auto object-contain",priority:!0})}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d space-y-2",children:[(0,s.jsx)("h2",{className:"jsx-dee60824f3db036d text-xl font-semibold",children:"Comunicaciones inteligentes para colegios"}),(0,s.jsx)("p",{className:"jsx-dee60824f3db036d text-white/80 text-sm leading-relaxed",children:"Centraliza avisos, eventos y recordatorios. Llega a apoderados y docentes en sus canales favoritos con la misma identidad visual de tu colegio."})]}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d flex items-center gap-3 text-sm text-white/90",children:[(0,s.jsxs)("span",{className:"jsx-dee60824f3db036d px-3 py-1 rounded-full bg-[#f97316]/20 border border-[#f97316]/40 text-white inline-flex items-center gap-1.5",children:[(0,s.jsx)(c.Par,{size:14}),"IA asistida"]}),(0,s.jsxs)("span",{className:"jsx-dee60824f3db036d px-3 py-1 rounded-full bg-[#f97316]/20 border border-[#f97316]/40 text-white inline-flex items-center gap-1.5",children:[(0,s.jsx)(c.yG,{size:14}),"Multi-tenant"]}),(0,s.jsxs)("span",{className:"jsx-dee60824f3db036d px-3 py-1 rounded-full bg-[#f97316]/20 border border-[#f97316]/40 text-white inline-flex items-center gap-1.5",children:[(0,s.jsx)(c.L$C,{size:14}),"Web + App"]})]})]}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d w-full",children:[(0,s.jsxs)(d.Zb,{className:"p-8 shadow-2xl border border-gray-100 text-gray-900",children:[(0,s.jsx)("h2",{className:"jsx-dee60824f3db036d text-3xl font-bold text-gray-900 mb-2",children:"credentials"===v?"Bienvenido":"Verifica tu acceso"}),(0,s.jsx)("p",{className:"jsx-dee60824f3db036d text-gray-600 mb-6",children:"credentials"===v?"Ingresa tus credenciales para acceder al panel.":"Introduce el c\xf3digo que enviamos a tu correo."}),z&&(0,s.jsx)("div",{className:"jsx-dee60824f3db036d mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:z}),C&&!z&&(0,s.jsx)("div",{className:"jsx-dee60824f3db036d mb-4 p-4 bg-[#1e293b] border border-[#f97316]/40 rounded-lg text-white text-sm font-semibold shadow-md",children:C}),(0,s.jsxs)("form",{onSubmit:O,className:"jsx-dee60824f3db036d space-y-4",children:["credentials"===v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.II,{label:"Correo Electr\xf3nico",type:"email",placeholder:"tu@colegio.cl",value:p,onChange:e=>u(e.target.value),required:!0}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d",children:[(0,s.jsx)("label",{className:"jsx-dee60824f3db036d block text-sm font-medium text-gray-700 mb-1",children:"Contrase\xf1a"}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d relative",children:[(0,s.jsx)("input",{type:t?"text":"password",placeholder:"••••••••",value:h,onChange:e=>j(e.target.value),required:!0,className:"jsx-dee60824f3db036d w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent border-gray-200 pr-10 text-gray-900"}),(0,s.jsx)("button",{type:"button",onClick:()=>r(e=>!e),"aria-label":"Mostrar contrase\xf1a",className:"jsx-dee60824f3db036d absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-primary",children:t?(0,s.jsx)(c.rzC,{size:18}):(0,s.jsx)(c.rDJ,{size:18})})]})]})]}),"otp"===v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.II,{label:"C\xf3digo de verificaci\xf3n",type:"text",placeholder:"123456",value:w,onChange:e=>g(e.target.value.replace(/\\D/g,"").slice(0,6)),required:!0}),(0,s.jsxs)("p",{className:"jsx-dee60824f3db036d text-sm text-gray-600",children:["Enviamos el c\xf3digo a ",(0,s.jsx)("span",{className:"jsx-dee60824f3db036d font-semibold",children:p}),". Tiene validez breve."]}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d flex flex-col gap-3",children:[(0,s.jsx)(d.zx,{type:"submit",variant:"primary",fullWidth:!0,loading:N,disabled:N,children:"Verificar c\xf3digo"}),(0,s.jsxs)("div",{className:"jsx-dee60824f3db036d flex items-center gap-3",children:[(0,s.jsx)(d.zx,{type:"button",variant:"outline",fullWidth:!0,disabled:S>0||N,onClick:async()=>{try{A(""),E(""),await m.x.requestOtp(p),I(30),E("C\xf3digo reenviado. Revisa tu correo.")}catch(t){var e,a;A((null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||(null==t?void 0:t.message)||"No se pudo reenviar el c\xf3digo")}},children:S>0?"Reenviar en ".concat(S,"s"):"Reenviar c\xf3digo"}),(0,s.jsx)("button",{type:"button",onClick:()=>{y("credentials"),g(""),E(""),A("")},className:"jsx-dee60824f3db036d text-sm text-primary hover:text-primary-dark whitespace-nowrap",children:"Cambiar correo"})]})]})]}),"credentials"===v&&(0,s.jsx)(d.zx,{type:"submit",variant:"primary",fullWidth:!0,loading:N,disabled:N,children:"Continuar"})]}),"credentials"===v&&(0,s.jsx)("div",{className:"jsx-dee60824f3db036d mt-6 pt-4 border-t border-gray-100",children:(0,s.jsx)("button",{type:"button",onClick:()=>e.push("/forgot-password"),className:"jsx-dee60824f3db036d text-sm text-primary hover:text-primary-dark transition-colors w-full text-center",children:"\xbfOlvidaste tu contrase\xf1a?"})})]}),(0,s.jsx)("div",{className:"jsx-dee60824f3db036d text-center mt-6 text-white/80 text-sm",children:(0,s.jsxs)("p",{className:"jsx-dee60824f3db036d",children:["\xa9 2025 Notiflow. Un producto de"," ",(0,s.jsx)("a",{href:"https://www.nodospa.cl",target:"_blank",rel:"noreferrer",className:"jsx-dee60824f3db036d underline font-semibold",children:"Nodo SpA"}),"."]})})]})]}),(0,s.jsx)(l(),{id:"dee60824f3db036d",children:"@-webkit-keyframes orbit-slow{0%{-webkit-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-webkit-transform:translate3d(90px,-40px,0)scale(1.08);transform:translate3d(90px,-40px,0)scale(1.08)}100%{-webkit-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-moz-keyframes orbit-slow{0%{-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-moz-transform:translate3d(90px,-40px,0)scale(1.08);transform:translate3d(90px,-40px,0)scale(1.08)}100%{-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-o-keyframes orbit-slow{0%{transform:translate3d(0,0,0)scale(1)}50%{transform:translate3d(90px,-40px,0)scale(1.08)}100%{transform:translate3d(0,0,0)scale(1)}}@keyframes orbit-slow{0%{-webkit-transform:translate3d(0,0,0)scale(1);-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-webkit-transform:translate3d(90px,-40px,0)scale(1.08);-moz-transform:translate3d(90px,-40px,0)scale(1.08);transform:translate3d(90px,-40px,0)scale(1.08)}100%{-webkit-transform:translate3d(0,0,0)scale(1);-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-webkit-keyframes orbit-slower{0%{-webkit-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-webkit-transform:translate3d(-70px,60px,0)scale(.95);transform:translate3d(-70px,60px,0)scale(.95)}100%{-webkit-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-moz-keyframes orbit-slower{0%{-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-moz-transform:translate3d(-70px,60px,0)scale(.95);transform:translate3d(-70px,60px,0)scale(.95)}100%{-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-o-keyframes orbit-slower{0%{transform:translate3d(0,0,0)scale(1)}50%{transform:translate3d(-70px,60px,0)scale(.95)}100%{transform:translate3d(0,0,0)scale(1)}}@keyframes orbit-slower{0%{-webkit-transform:translate3d(0,0,0)scale(1);-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-webkit-transform:translate3d(-70px,60px,0)scale(.95);-moz-transform:translate3d(-70px,60px,0)scale(.95);transform:translate3d(-70px,60px,0)scale(.95)}100%{-webkit-transform:translate3d(0,0,0)scale(1);-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-webkit-keyframes orbit-fast{0%{-webkit-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-webkit-transform:translate3d(50px,-60px,0)scale(1.1);transform:translate3d(50px,-60px,0)scale(1.1)}100%{-webkit-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-moz-keyframes orbit-fast{0%{-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-moz-transform:translate3d(50px,-60px,0)scale(1.1);transform:translate3d(50px,-60px,0)scale(1.1)}100%{-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}@-o-keyframes orbit-fast{0%{transform:translate3d(0,0,0)scale(1)}50%{transform:translate3d(50px,-60px,0)scale(1.1)}100%{transform:translate3d(0,0,0)scale(1)}}@keyframes orbit-fast{0%{-webkit-transform:translate3d(0,0,0)scale(1);-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}50%{-webkit-transform:translate3d(50px,-60px,0)scale(1.1);-moz-transform:translate3d(50px,-60px,0)scale(1.1);transform:translate3d(50px,-60px,0)scale(1.1)}100%{-webkit-transform:translate3d(0,0,0)scale(1);-moz-transform:translate3d(0,0,0)scale(1);transform:translate3d(0,0,0)scale(1)}}.animate-orbit-slow{-webkit-animation:orbit-slow 12s ease-in-out infinite;-moz-animation:orbit-slow 12s ease-in-out infinite;-o-animation:orbit-slow 12s ease-in-out infinite;animation:orbit-slow 12s ease-in-out infinite}.animate-orbit-slower{-webkit-animation:orbit-slower 16s ease-in-out infinite;-moz-animation:orbit-slower 16s ease-in-out infinite;-o-animation:orbit-slower 16s ease-in-out infinite;animation:orbit-slower 16s ease-in-out infinite}.animate-orbit-fast{-webkit-animation:orbit-fast 10s ease-in-out infinite;-moz-animation:orbit-fast 10s ease-in-out infinite;-o-animation:orbit-fast 10s ease-in-out infinite;animation:orbit-fast 10s ease-in-out infinite}"})]})}}},function(e){e.O(0,[502,619,785,540,255,971,117,744],function(){return e(e.s=9656)}),_N_E=e.O()}]);